{"remainingRequest":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\babel-loader\\lib\\index.js!E:\\TellHow\\vue\\vue_demo2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\TellHow\\vue\\vue_demo2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\TellHow\\vue\\vue_demo2\\src\\components\\admin\\news\\Add.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\TellHow\\vue\\vue_demo2\\src\\components\\admin\\news\\Add.vue","mtime":1577696396731},{"path":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575534104133},{"path":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\babel-loader\\lib\\index.js","mtime":1575534135931},{"path":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575534104133},{"path":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\vue-loader\\lib\\index.js","mtime":1575534129651}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport DateTimePicker from '@/components/home/utils/DateTimePicker.vue';\nexport default {\n  name: 'NewsAdd',\n  components: {\n    DateTimePicker: DateTimePicker\n  },\n  created: function created() {\n    var _this = this;\n\n    this.$axios.get('/admin/chinaFight/all').then(function (resp) {\n      var chinaFights = _this.filterOptions(resp.data.data);\n\n      _this.options = [{\n        label: '国内',\n        children: chinaFights\n      }];\n    });\n    this.$axios.get('/admin/abroadFight/all').then(function (resp) {\n      var abroadFights = _this.filterOptions(resp.data.data);\n\n      _this.options = [{\n        label: '国外',\n        children: abroadFights\n      }];\n    });\n  },\n  data: function data() {\n    return {\n      imageUrl: '',\n      news: {\n        title: '',\n        content: '',\n        notifyFight: '',\n        notifyContent: '',\n        status: true,\n        isNotify: false\n      },\n      fileForm: false,\n      fileList: '',\n      rules: {\n        title: [{\n          required: true,\n          message: '请选择新闻标题',\n          trigger: 'blur'\n        }]\n      },\n      options: [{\n        value: 'zhinan',\n        label: '起飞时间12-25',\n        children: [{\n          value: 'shejiyuanze',\n          label: '国内',\n          children: [{\n            value: 'yizhi',\n            label: '起飞城市',\n            children: [{\n              value: 'id',\n              label: '目的地',\n              children: [{\n                value: 'id',\n                label: '航班序号'\n              }]\n            }, {\n              value: 'id',\n              label: '目的地',\n              children: [{\n                value: 'id',\n                label: '航班序号'\n              }]\n            }]\n          }, {\n            value: 'fankui',\n            label: '反馈'\n          }, {\n            value: 'xiaolv',\n            label: '效率'\n          }, {\n            value: 'kekong',\n            label: '可控'\n          }]\n        }, {\n          value: 'daohang',\n          label: '国外',\n          children: [{\n            value: 'cexiangdaohang',\n            label: '侧向导航'\n          }, {\n            value: 'dingbudaohang',\n            label: '顶部导航'\n          }]\n        }]\n      }, {\n        value: 'zujian',\n        label: '组件',\n        children: [{\n          value: 'basic',\n          label: 'Basic',\n          children: [{\n            value: 'layout',\n            label: 'Layout 布局'\n          }, {\n            value: 'color',\n            label: 'Color 色彩'\n          }, {\n            value: 'typography',\n            label: 'Typography 字体'\n          }, {\n            value: 'icon',\n            label: 'Icon 图标'\n          }, {\n            value: 'button',\n            label: 'Button 按钮'\n          }]\n        }, {\n          value: 'form',\n          label: 'Form',\n          children: [{\n            value: 'radio',\n            label: 'Radio 单选框'\n          }, {\n            value: 'checkbox',\n            label: 'Checkbox 多选框'\n          }, {\n            value: 'input',\n            label: 'Input 输入框'\n          }, {\n            value: 'input-number',\n            label: 'InputNumber 计数器'\n          }, {\n            value: 'select',\n            label: 'Select 选择器'\n          }, {\n            value: 'cascader',\n            label: 'Cascader 级联选择器'\n          }, {\n            value: 'switch',\n            label: 'Switch 开关'\n          }, {\n            value: 'slider',\n            label: 'Slider 滑块'\n          }, {\n            value: 'time-picker',\n            label: 'TimePicker 时间选择器'\n          }, {\n            value: 'date-picker',\n            label: 'DatePicker 日期选择器'\n          }, {\n            value: 'datetime-picker',\n            label: 'DateTimePicker 日期时间选择器'\n          }, {\n            value: 'upload',\n            label: 'Upload 上传'\n          }, {\n            value: 'rate',\n            label: 'Rate 评分'\n          }, {\n            value: 'form',\n            label: 'Form 表单'\n          }]\n        }, {\n          value: 'data',\n          label: 'Data',\n          children: [{\n            value: 'table',\n            label: 'Table 表格'\n          }, {\n            value: 'tag',\n            label: 'Tag 标签'\n          }, {\n            value: 'progress',\n            label: 'Progress 进度条'\n          }, {\n            value: 'tree',\n            label: 'Tree 树形控件'\n          }, {\n            value: 'pagination',\n            label: 'Pagination 分页'\n          }, {\n            value: 'badge',\n            label: 'Badge 标记'\n          }]\n        }, {\n          value: 'notice',\n          label: 'Notice',\n          children: [{\n            value: 'alert',\n            label: 'Alert 警告'\n          }, {\n            value: 'loading',\n            label: 'Loading 加载'\n          }, {\n            value: 'message',\n            label: 'Message 消息提示'\n          }, {\n            value: 'message-box',\n            label: 'MessageBox 弹框'\n          }, {\n            value: 'notification',\n            label: 'Notification 通知'\n          }]\n        }, {\n          value: 'navigation',\n          label: 'Navigation',\n          children: [{\n            value: 'menu',\n            label: 'NavMenu 导航菜单'\n          }, {\n            value: 'tabs',\n            label: 'Tabs 标签页'\n          }, {\n            value: 'breadcrumb',\n            label: 'Breadcrumb 面包屑'\n          }, {\n            value: 'dropdown',\n            label: 'Dropdown 下拉菜单'\n          }, {\n            value: 'steps',\n            label: 'Steps 步骤条'\n          }]\n        }, {\n          value: 'others',\n          label: 'Others',\n          children: [{\n            value: 'dialog',\n            label: 'Dialog 对话框'\n          }, {\n            value: 'tooltip',\n            label: 'Tooltip 文字提示'\n          }, {\n            value: 'popover',\n            label: 'Popover 弹出框'\n          }, {\n            value: 'card',\n            label: 'Card 卡片'\n          }, {\n            value: 'carousel',\n            label: 'Carousel 走马灯'\n          }, {\n            value: 'collapse',\n            label: 'Collapse 折叠面板'\n          }]\n        }]\n      }]\n    };\n  },\n  methods: {\n    submitForm: function submitForm(formName) {\n      var _this2 = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          _this2.$axios.post('/admin/news/add', {\n            title: _this2.news.title,\n            planStartTime: _this2.$refs.time.time[0],\n            planEndTime: _this2.$refs.time.time[1],\n            notifyFight: _this2.news.notifyFight,\n            notifyContent: _this2.news.notifyContent,\n            status: _this2.news.status ? 0 : 1\n          }).then(function (resp) {\n            if (resp.data.code === 200) {\n              var data = resp.data.msg;\n\n              _this2.$message({\n                message: data,\n                type: 'success'\n              });\n\n              var path = _this2.$route.query.redirect;\n\n              _this2.$router.replace({\n                path: path === '/admin/news/add' || path === undefined ? '/admin/news/show' : path\n              });\n            }\n          }).catch(function (failResponse) {});\n        } else {\n          return false;\n        }\n      });\n    },\n    resetForm: function resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    goBack: function goBack() {\n      console.log('go back');\n    },\n    fileUpload: function fileUpload() {\n      this.fileForm = true;\n    },\n    handleChange: function handleChange(file, fileList) {\n      var isExcel = file.type === 'xls' || 'xlsx';\n      this.fileList = fileList.slice(-3);\n    },\n    filterOptions: function filterOptions(beforeData) {\n      var tempArr = [];\n      this.afterData = [];\n\n      for (var i = 0; i < beforeData.length; i++) {\n        if (tempArr.indexOf(beforeData[i].startCity) === -1) {\n          this.afterData.push({\n            label: beforeData[i].startCity,\n            children: [beforeData[i]]\n          });\n          tempArr.push(beforeData[i].startCity);\n        } else {\n          for (var j = 0; j < this.afterData.length; j++) {\n            if (this.afterData[j].label == beforeData[i].startCity) {\n              this.afterData[j].children.push(beforeData[i]);\n              break;\n            }\n          }\n        }\n      }\n\n      for (var _i = 0; _i < this.afterData.length; _i++) {\n        var tempArr2 = [];\n        this.afterDataChilds = [];\n        this.afterDataChild = this.afterData[_i].children;\n\n        for (var m = 0; m < this.afterDataChild.length; m++) {\n          if (tempArr2.indexOf(this.afterDataChild[m].endCity) === -1) {\n            this.afterDataChilds.push({\n              label: this.afterDataChild[m].endCity,\n              children: [{\n                label: this.afterDataChild[m].number,\n                value: this.afterDataChild[m].id\n              }]\n            });\n            tempArr2.push(this.afterDataChild[m].endCity);\n          } else {\n            for (var _j = 0; _j < this.afterDataChilds.length; _j++) {\n              if (this.afterDataChilds[_j].label == this.afterDataChild[m].endCity) {\n                this.afterDataChilds[_j].children.push({\n                  label: this.afterDataChild[m].number,\n                  value: this.afterDataChild[m].id\n                });\n\n                break;\n              }\n            }\n          }\n        }\n\n        this.afterData[_i].children = this.afterDataChilds;\n      }\n\n      return this.afterData;\n    }\n  }\n};",{"version":3,"sources":["Add.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-page-header @back=\"goBack\" content=\"添加新闻动态\"></el-page-header>\r\n\t\t<el-row :gutter=\"20\">\r\n\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t<el-form :model=\"news\" :rules=\"rules\" ref=\"news\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n\t\t\t\t\t<el-form-item label=\"新闻标题\" prop=\"title\">\r\n\t\t\t\t\t\t<el-input v-model=\"news.title\"></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"航班计划时间\" prop=\"content\">\r\n\t\t\t\t\t\t<DateTimePicker ref=\"time\"></DateTimePicker>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"所属航班\" prop=\"notifyFight\">\r\n\t\t\t\t\t\t<el-cascader placeholder=\"选择航班\" v-model=\"news.notifyFight\" :options=\"options\" :props=\"{ multiple: true }\"\r\n\t\t\t\t\t\t filterable></el-cascader>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"是否通知\" prop=\"isNotify\">\r\n\t\t\t\t\t\t<el-switch v-model=\"news.isNotify\" active-text=\"通知\" inactive-text=\"不通知\">\r\n\t\t\t\t\t\t</el-switch>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"通知内容\" prop=\"notifyContent\">\r\n\t\t\t\t\t\t<el-input type=\"textarea\" :rows=\"7\" v-model=\"news.notifyContent\"></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"航班状态\" prop=\"status\">\r\n\t\t\t\t\t\t<el-switch v-model=\"news.status\" active-color=\"#13ce66\" inactive-color=\"#ff4949\" active-text=\"计划\" inactive-text=\"延误\">\r\n\t\t\t\t\t\t</el-switch>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t<el-button @click=\"fileUpload\">\r\n\t\t\t\t\t\t\t<i class=\"el-icon-folder-add\"></i>\r\n\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"submitForm('news')\">添 加</el-button>\r\n\t\t\t\t\t\t<el-button @click=\"resetForm('news')\">重 置</el-button>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-form>\r\n\t\t\t</el-col>\r\n\t\t</el-row>\r\n\t\t<el-dialog title=\"批量文件上传\" :visible.sync=\"fileForm\">\r\n\t\t\t<el-upload class=\"upload-demo\" action=\"https://jsonplaceholder.typicode.com/posts/\" :on-change=\"handleChange\">\r\n\t\t\t\t<el-button type=\"primary\">点击上传</el-button>\r\n\t\t\t\t<div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\r\n\t\t\t</el-upload>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"fileForm = false\">取 消</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport DateTimePicker from '@/components/home/utils/DateTimePicker.vue'\r\n\texport default {\r\n\t\tname: 'NewsAdd',\r\n\t\tcomponents: {\r\n\t\t\tDateTimePicker\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.$axios\r\n\t\t\t\t.get('/admin/chinaFight/all')\r\n\t\t\t\t.then(resp => {\r\n\t\t\t\t\tvar chinaFights = this.filterOptions(resp.data.data)\r\n\t\t\t\t\tthis.options = [{\r\n\t\t\t\t\t\tlabel: '国内',\r\n\t\t\t\t\t\tchildren: chinaFights\r\n\t\t\t\t\t}];\r\n\t\t\t\t});\r\n\t\t\tthis.$axios\r\n\t\t\t\t.get('/admin/abroadFight/all')\r\n\t\t\t\t.then(resp => {\r\n\t\t\t\t\tvar abroadFights = this.filterOptions(resp.data.data)\r\n\t\t\t\t\tthis.options = [{\r\n\t\t\t\t\t\tlabel: '国外',\r\n\t\t\t\t\t\tchildren: abroadFights\r\n\t\t\t\t\t}];\r\n\t\t\t\t})\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\timageUrl: '',\r\n\t\t\t\tnews: {\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\tcontent: '',\r\n\t\t\t\t\tnotifyFight: '',\r\n\t\t\t\t\tnotifyContent: '',\r\n\t\t\t\t\tstatus: true,\r\n\t\t\t\t\tisNotify: false\r\n\t\t\t\t},\r\n\t\t\t\tfileForm: false,\r\n\t\t\t\tfileList: '',\r\n\t\t\t\trules: {\r\n\t\t\t\t\ttitle: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请选择新闻标题',\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\toptions: [{\r\n\t\t\t\t\tvalue: 'zhinan',\r\n\t\t\t\t\tlabel: '起飞时间12-25',\r\n\t\t\t\t\tchildren: [{\r\n\t\t\t\t\t\tvalue: 'shejiyuanze',\r\n\t\t\t\t\t\tlabel: '国内',\r\n\t\t\t\t\t\tchildren: [{\r\n\t\t\t\t\t\t\tvalue: 'yizhi',\r\n\t\t\t\t\t\t\tlabel: '起飞城市',\r\n\t\t\t\t\t\t\tchildren: [{\r\n\t\t\t\t\t\t\t\t\tvalue: 'id',\r\n\t\t\t\t\t\t\t\t\tlabel: '目的地',\r\n\t\t\t\t\t\t\t\t\tchildren: [{\r\n\t\t\t\t\t\t\t\t\t\tvalue: 'id',\r\n\t\t\t\t\t\t\t\t\t\tlabel: '航班序号',\r\n\t\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tvalue: 'id',\r\n\t\t\t\t\t\t\t\t\tlabel: '目的地',\r\n\t\t\t\t\t\t\t\t\tchildren: [{\r\n\t\t\t\t\t\t\t\t\t\tvalue: 'id',\r\n\t\t\t\t\t\t\t\t\t\tlabel: '航班序号',\r\n\t\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'fankui',\r\n\t\t\t\t\t\t\tlabel: '反馈'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'xiaolv',\r\n\t\t\t\t\t\t\tlabel: '效率'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'kekong',\r\n\t\t\t\t\t\t\tlabel: '可控'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: 'daohang',\r\n\t\t\t\t\t\tlabel: '国外',\r\n\t\t\t\t\t\tchildren: [{\r\n\t\t\t\t\t\t\tvalue: 'cexiangdaohang',\r\n\t\t\t\t\t\t\tlabel: '侧向导航'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'dingbudaohang',\r\n\t\t\t\t\t\t\tlabel: '顶部导航'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t}]\r\n\t\t\t\t}, {\r\n\t\t\t\t\tvalue: 'zujian',\r\n\t\t\t\t\tlabel: '组件',\r\n\t\t\t\t\tchildren: [{\r\n\t\t\t\t\t\tvalue: 'basic',\r\n\t\t\t\t\t\tlabel: 'Basic',\r\n\t\t\t\t\t\tchildren: [{\r\n\t\t\t\t\t\t\tvalue: 'layout',\r\n\t\t\t\t\t\t\tlabel: 'Layout 布局'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'color',\r\n\t\t\t\t\t\t\tlabel: 'Color 色彩'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'typography',\r\n\t\t\t\t\t\t\tlabel: 'Typography 字体'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'icon',\r\n\t\t\t\t\t\t\tlabel: 'Icon 图标'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'button',\r\n\t\t\t\t\t\t\tlabel: 'Button 按钮'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: 'form',\r\n\t\t\t\t\t\tlabel: 'Form',\r\n\t\t\t\t\t\tchildren: [{\r\n\t\t\t\t\t\t\tvalue: 'radio',\r\n\t\t\t\t\t\t\tlabel: 'Radio 单选框'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'checkbox',\r\n\t\t\t\t\t\t\tlabel: 'Checkbox 多选框'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'input',\r\n\t\t\t\t\t\t\tlabel: 'Input 输入框'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'input-number',\r\n\t\t\t\t\t\t\tlabel: 'InputNumber 计数器'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'select',\r\n\t\t\t\t\t\t\tlabel: 'Select 选择器'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'cascader',\r\n\t\t\t\t\t\t\tlabel: 'Cascader 级联选择器'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'switch',\r\n\t\t\t\t\t\t\tlabel: 'Switch 开关'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'slider',\r\n\t\t\t\t\t\t\tlabel: 'Slider 滑块'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'time-picker',\r\n\t\t\t\t\t\t\tlabel: 'TimePicker 时间选择器'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'date-picker',\r\n\t\t\t\t\t\t\tlabel: 'DatePicker 日期选择器'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'datetime-picker',\r\n\t\t\t\t\t\t\tlabel: 'DateTimePicker 日期时间选择器'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'upload',\r\n\t\t\t\t\t\t\tlabel: 'Upload 上传'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'rate',\r\n\t\t\t\t\t\t\tlabel: 'Rate 评分'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'form',\r\n\t\t\t\t\t\t\tlabel: 'Form 表单'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: 'data',\r\n\t\t\t\t\t\tlabel: 'Data',\r\n\t\t\t\t\t\tchildren: [{\r\n\t\t\t\t\t\t\tvalue: 'table',\r\n\t\t\t\t\t\t\tlabel: 'Table 表格'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'tag',\r\n\t\t\t\t\t\t\tlabel: 'Tag 标签'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'progress',\r\n\t\t\t\t\t\t\tlabel: 'Progress 进度条'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'tree',\r\n\t\t\t\t\t\t\tlabel: 'Tree 树形控件'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'pagination',\r\n\t\t\t\t\t\t\tlabel: 'Pagination 分页'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'badge',\r\n\t\t\t\t\t\t\tlabel: 'Badge 标记'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: 'notice',\r\n\t\t\t\t\t\tlabel: 'Notice',\r\n\t\t\t\t\t\tchildren: [{\r\n\t\t\t\t\t\t\tvalue: 'alert',\r\n\t\t\t\t\t\t\tlabel: 'Alert 警告'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'loading',\r\n\t\t\t\t\t\t\tlabel: 'Loading 加载'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'message',\r\n\t\t\t\t\t\t\tlabel: 'Message 消息提示'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'message-box',\r\n\t\t\t\t\t\t\tlabel: 'MessageBox 弹框'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'notification',\r\n\t\t\t\t\t\t\tlabel: 'Notification 通知'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: 'navigation',\r\n\t\t\t\t\t\tlabel: 'Navigation',\r\n\t\t\t\t\t\tchildren: [{\r\n\t\t\t\t\t\t\tvalue: 'menu',\r\n\t\t\t\t\t\t\tlabel: 'NavMenu 导航菜单'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'tabs',\r\n\t\t\t\t\t\t\tlabel: 'Tabs 标签页'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'breadcrumb',\r\n\t\t\t\t\t\t\tlabel: 'Breadcrumb 面包屑'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'dropdown',\r\n\t\t\t\t\t\t\tlabel: 'Dropdown 下拉菜单'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'steps',\r\n\t\t\t\t\t\t\tlabel: 'Steps 步骤条'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvalue: 'others',\r\n\t\t\t\t\t\tlabel: 'Others',\r\n\t\t\t\t\t\tchildren: [{\r\n\t\t\t\t\t\t\tvalue: 'dialog',\r\n\t\t\t\t\t\t\tlabel: 'Dialog 对话框'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'tooltip',\r\n\t\t\t\t\t\t\tlabel: 'Tooltip 文字提示'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'popover',\r\n\t\t\t\t\t\t\tlabel: 'Popover 弹出框'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'card',\r\n\t\t\t\t\t\t\tlabel: 'Card 卡片'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'carousel',\r\n\t\t\t\t\t\t\tlabel: 'Carousel 走马灯'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tvalue: 'collapse',\r\n\t\t\t\t\t\t\tlabel: 'Collapse 折叠面板'\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t}]\r\n\t\t\t\t}]\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsubmitForm(formName) {\r\n\t\t\t\tthis.$refs[formName].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tthis.$axios\r\n\t\t\t\t\t\t\t.post('/admin/news/add', {\r\n\t\t\t\t\t\t\t\ttitle: this.news.title,\r\n\t\t\t\t\t\t\t\tplanStartTime: this.$refs.time.time[0],\r\n\t\t\t\t\t\t\t\tplanEndTime: this.$refs.time.time[1],\r\n\t\t\t\t\t\t\t\tnotifyFight: this.news.notifyFight,\r\n\t\t\t\t\t\t\t\tnotifyContent: this.news.notifyContent,\r\n\t\t\t\t\t\t\t\tstatus: this.news.status ? 0 : 1\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.then(resp => {\r\n\t\t\t\t\t\t\t\tif (resp.data.code === 200) {\r\n\t\t\t\t\t\t\t\t\tvar data = resp.data.msg;\r\n\t\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\t\tmessage: data,\r\n\t\t\t\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tvar path = this.$route.query.redirect\r\n\t\t\t\t\t\t\t\t\tthis.$router.replace({\r\n\t\t\t\t\t\t\t\t\t\tpath: path === '/admin/news/add' || path === undefined ? '/admin/news/show' : path\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(failResponse => {})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tresetForm(formName) {\r\n\t\t\t\tthis.$refs[formName].resetFields();\r\n\t\t\t},\r\n\t\t\tgoBack() {\r\n\t\t\t\tconsole.log('go back');\r\n\t\t\t},\r\n\t\t\tfileUpload() {\r\n\t\t\t\tthis.fileForm = true;\r\n\t\t\t},\r\n\t\t\thandleChange(file, fileList) {\r\n\t\t\t\tconst isExcel = file.type === ('xls') || ('xlsx');\r\n\t\t\t\tthis.fileList = fileList.slice(-3);\r\n\t\t\t},\r\n\t\t\tfilterOptions(beforeData) {\r\n\t\t\t\tvar tempArr = [];\r\n\t\t\t\tthis.afterData = [];\r\n\t\t\t\tfor (let i = 0; i < beforeData.length; i++) {\r\n\t\t\t\t\tif (tempArr.indexOf(beforeData[i].startCity) === -1) {\r\n\t\t\t\t\t\tthis.afterData.push({\r\n\t\t\t\t\t\t\tlabel: beforeData[i].startCity,\r\n\t\t\t\t\t\t\tchildren: [beforeData[i]]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\ttempArr.push(beforeData[i].startCity);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfor (let j = 0; j < this.afterData.length; j++) {\r\n\t\t\t\t\t\t\tif (this.afterData[j].label == beforeData[i].startCity) {\r\n\t\t\t\t\t\t\t\tthis.afterData[j].children.push(beforeData[i]);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfor (let i = 0; i < this.afterData.length; i++) {\r\n\t\t\t\t\tvar tempArr2 = [];\r\n\t\t\t\t\tthis.afterDataChilds = [];\r\n\t\t\t\t\tthis.afterDataChild = this.afterData[i].children;\r\n\t\t\t\t\tfor (let m = 0; m < this.afterDataChild.length; m++) {\r\n\t\t\t\t\t\tif (tempArr2.indexOf(this.afterDataChild[m].endCity) === -1) {\r\n\t\t\t\t\t\t\tthis.afterDataChilds.push({\r\n\t\t\t\t\t\t\t\tlabel: this.afterDataChild[m].endCity,\r\n\t\t\t\t\t\t\t\tchildren: [{\r\n\t\t\t\t\t\t\t\t\tlabel: this.afterDataChild[m].number,\r\n\t\t\t\t\t\t\t\t\tvalue: this.afterDataChild[m].id\r\n\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\ttempArr2.push(this.afterDataChild[m].endCity);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfor (let j = 0; j < this.afterDataChilds.length; j++) {\r\n\t\t\t\t\t\t\t\tif (this.afterDataChilds[j].label == this.afterDataChild[m].endCity) {\r\n\t\t\t\t\t\t\t\t\tthis.afterDataChilds[j].children.push({\r\n\t\t\t\t\t\t\t\t\t\tlabel: this.afterDataChild[m].number,\r\n\t\t\t\t\t\t\t\t\t\tvalue: this.afterDataChild[m].id\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.afterData[i].children = this.afterDataChilds;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.afterData;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped=\"scoped\">\r\n\t.el-form {\r\n\t\tmargin-top: 30px;\r\n\t}\r\n\r\n\t.el-upload__input {\r\n\t\tdisplay: none !important;\r\n\t}\r\n\r\n\t.el-upload input[type=\"file\"] {\r\n\t\tdisplay: none !important;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/components/admin/news"}]}