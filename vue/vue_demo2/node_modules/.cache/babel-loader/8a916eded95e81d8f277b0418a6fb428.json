{"remainingRequest":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\babel-loader\\lib\\index.js!E:\\TellHow\\vue\\vue_demo2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\TellHow\\vue\\vue_demo2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\TellHow\\vue\\vue_demo2\\src\\components\\home\\comm\\ChinaPlane.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\TellHow\\vue\\vue_demo2\\src\\components\\home\\comm\\ChinaPlane.vue","mtime":1577526776687},{"path":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575534104133},{"path":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\babel-loader\\lib\\index.js","mtime":1575534135931},{"path":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575534104133},{"path":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\vue-loader\\lib\\index.js","mtime":1575534129651},{"path":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575534104133},{"path":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\babel-loader\\lib\\index.js","mtime":1575534135931},{"path":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575534104133},{"path":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\vue-loader\\lib\\index.js","mtime":1575534129651}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'ChinaPlane',\n  data: function data() {\n    return {\n      hotCity: '深圳',\n      gridData: '',\n      chinaPlane: '',\n      dialogTableVisible: false,\n      dialogFormVisible: false,\n      send: {\n        sendType: '',\n        sendStatus: false,\n        sendMessage: '发送验证码'\n      },\n      clockForm: {\n        email: '',\n        code: '',\n        plane: ''\n      },\n      rules: {\n        email: [{\n          required: true,\n          message: '请输入邮箱地址',\n          trigger: ['blur', 'change']\n        }, {\n          type: 'email',\n          message: '请输入正确的邮箱地址',\n          trigger: ['blur', 'change']\n        }],\n        code: [{\n          required: true,\n          message: '请填写验证码'\n        }]\n      },\n      formLabelWidth: '120px'\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.$axios.post('/china_plane', {\n      currentPage: 1,\n      pageSize: 9,\n      startCity: \"武汉\",\n      endCity: \"深圳\",\n      orderByField: 'start_time'\n    }).then(function (resp) {\n      if (resp.data.code === 200) {\n        _this.chinaPlane = resp.data.data.records;\n        console.log(resp.data.data.records);\n      }\n    }).catch(function (failResponse) {});\n  },\n  methods: {\n    sendCode: function sendCode() {\n      var _this2 = this;\n\n      //发送验证码\n      this.$axios.post('/send', {\n        email: this.clockForm.email,\n        type: 0\n      }).then(function (resp) {\n        if (resp.data.code === 200) {\n          // if (resp.data.data.return_code == \"00000\") {\n          _this2.$message({\n            type: 'success',\n            message: '验证码发送成功，请注意接收'\n          });\n\n          _this2.send.sendType = \"success\";\n          _this2.send.sendStatus = \"disabled\";\n\n          _this2.setInterval(); // }else{\n          // \tthis.$message.error(\"验证码发送错误，错误代码:\"+resp.data.data.return_code);\n          // }\n\n        } else if (resp.data.code === 500) {\n          _this2.$message.error(resp.data.msg);\n        } else {\n          _this2.$message.error(\"验证码发送错误\");\n        }\n      });\n    },\n    addClock: function addClock(plane) {\n      console.log(plane);\n      this.dialogTableVisible = true;\n      this.dialogFormVisible = true;\n      this.clockForm.plane = plane;\n    },\n    submitForm: function submitForm(formName) {\n      var _this3 = this;\n\n      var data = {\n        planeId: this.clockForm.plane,\n        phone: this.clockForm.phone,\n        email: this.clockForm.email,\n        code: this.clockForm.code\n      };\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          //提交表单\n          _this3.$axios.post('/clock', JSON.stringify(data)).then(function (resp) {\n            if (resp.data.code === 200) {\n              _this3.$message({\n                type: 'success',\n                message: resp.data.msg\n              });\n            } else {\n              _this3.$message.error(\"发生错误，请联系管理员\");\n            }\n          }); //添加成功\n\n\n          _this3.closeForm(formName);\n        } else {\n          return false;\n        }\n      });\n    },\n    closeForm: function closeForm(formName) {\n      clearInterval(this.interval);\n      this.dialogFormVisible = false;\n      this.send.sendType = \"\";\n      this.send.sendStatus = false;\n      this.send.sendMessage = \"发送验证码\";\n    },\n    setInterval: function (_setInterval) {\n      function setInterval() {\n        return _setInterval.apply(this, arguments);\n      }\n\n      setInterval.toString = function () {\n        return _setInterval.toString();\n      };\n\n      return setInterval;\n    }(function () {\n      var _this4 = this;\n\n      var time = 60;\n      this.interval = setInterval(function () {\n        _this4.send.sendMessage = time;\n        time -= 1;\n\n        if (time === -1) {\n          clearInterval(_this4.interval);\n          _this4.send.sendType = \"\";\n          _this4.send.sendStatus = false;\n          _this4.send.sendMessage = \"重新发送验证码\";\n        }\n      }, 1000);\n    })\n  }\n};",{"version":3,"sources":["ChinaPlane.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-divider content-position=\"left\">国内航班</el-divider>\r\n\t\t<el-card shadow=\"never\">\r\n\t\t\t <div style=\"text-align: right;width: 100%;\">\r\n\t\t\t    <el-radio-group v-model=\"hotCity\" size=\"small\">\r\n\t\t\t      <el-radio-button label=\"上海\"></el-radio-button>\r\n\t\t\t      <el-radio-button label=\"北京\"></el-radio-button>\r\n\t\t\t      <el-radio-button label=\"广州\"></el-radio-button>\r\n\t\t\t      <el-radio-button label=\"深圳\"></el-radio-button>\r\n\t\t\t    </el-radio-group>\r\n\t\t\t  </div>\r\n\t\t\t<el-row :gutter=\"12\">\r\n\t\t\t\t<el-col :span=\"8\" v-for=\"plane in this.chinaPlane\">\r\n\t\t\t\t\t<el-popover placement=\"right\" width=\"430\" trigger=\"click\">\r\n\t\t\t\t\t\t<el-row :gutter=\"20\">\r\n\t\t\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t\t\t<el-col>起飞机场：{{ plane.startAirport }}</el-col>\r\n\t\t\t\t\t\t\t\t<el-col>降落机场：{{ plane.endAirport }}</el-col>\r\n\t\t\t\t\t\t\t\t<el-col>客机机型：{{ plane.model }}</el-col>\r\n\t\t\t\t\t\t\t\t<el-col v-if=\"plane.type===0\">客机型号：小型</el-col>\r\n\t\t\t\t\t\t\t\t<el-col v-else-if=\"plane.type===1\">客机型号：中型</el-col>\r\n\t\t\t\t\t\t\t\t<el-col v-else-if=\"plane.type===2\">客机型号：大型</el-col>\r\n\t\t\t\t\t\t\t\t<el-col>客机序号：{{ plane.number }}</el-col>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t\t\t<el-col>\r\n\t\t\t\t\t\t\t\t\t<h3>{{ plane.name }}</h3><img :src=\"plane.icon\">\r\n\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t<el-button @click=\"addClock(plane.id)\" size=\"mini\">添加提醒<i class=\"el-icon-alarm-clock\"></i></el-button>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t\t<el-card shadow=\"hover\" slot=\"reference\">\r\n\t\t\t\t\t\t\t<el-row :gutter=\"20\">\r\n\t\t\t\t\t\t\t\t<el-col :span=\"12\">{{ plane.startCity }} <i class=\"el-icon-caret-right\"></i> {{ plane.endCity }}</el-col>\r\n\t\t\t\t\t\t\t\t<el-col :span=\"12\">\r\n\t\t\t\t\t\t\t\t\t<h4 style=\"color: indianred;float: right;\">{{ plane.price }} ￥起</h4>\r\n\t\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t\t<el-col>{{ plane.startTime }}</el-col>\r\n\t\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t\t</el-card>\r\n\t\t\t\t\t</el-popover>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t</el-card>\r\n\t\t<el-dialog title=\"添加邮箱提醒\" :visible.sync=\"dialogFormVisible\">\r\n\t\t\t<el-form :model=\"clockForm\" :rules=\"rules\" ref=\"clockForm\">\r\n\t\t\t\t<el-form-item label=\"邮箱\" prop=\"email\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-row :gutter=\"20\">\r\n\t\t\t\t\t\t<el-col :span=\"10\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"clockForm.email\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t<el-col :span=\"10\">\r\n\t\t\t\t\t\t\t<el-button :type=\"send.sendType\" :model=\"send\" :disabled=\"send.sendStatus\" @click=\"sendCode\" :key=\"send.sendMessage\">\r\n\t\t\t\t\t\t\t\t{{ send.sendMessage }}\r\n\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t</el-row>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"验证码\" prop=\"code\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-row :gutter=\"20\">\r\n\t\t\t\t\t\t<el-col :span=\"10\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"clockForm.code\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t</el-row>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"closeForm('clockForm')\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"submitForm('clockForm')\">添 加</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'ChinaPlane',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\thotCity:'深圳',\r\n\t\t\t\tgridData: '',\r\n\t\t\t\tchinaPlane: '',\r\n\t\t\t\tdialogTableVisible: false,\r\n\t\t\t\tdialogFormVisible: false,\r\n\t\t\t\tsend: {\r\n\t\t\t\t\tsendType: '',\r\n\t\t\t\t\tsendStatus: false,\r\n\t\t\t\t\tsendMessage: '发送验证码',\r\n\t\t\t\t},\r\n\t\t\t\tclockForm: {\r\n\t\t\t\t\temail: '',\r\n\t\t\t\t\tcode: '',\r\n\t\t\t\t\tplane: ''\r\n\t\t\t\t},\r\n\t\t\t\trules: {\r\n\t\t\t\t\temail: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入邮箱地址',\r\n\t\t\t\t\t\ttrigger: ['blur', 'change']\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\ttype: 'email',\r\n\t\t\t\t\t\tmessage: '请输入正确的邮箱地址',\r\n\t\t\t\t\t\ttrigger: ['blur', 'change']\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tcode: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请填写验证码'\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\tformLabelWidth: '120px'\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tvar _this = this;\r\n\t\t\tthis.$axios\r\n\t\t\t\t.post('/china_plane', {\r\n\t\t\t\t\tcurrentPage: 1,\r\n\t\t\t\t\tpageSize: 9,\r\n\t\t\t\t\tstartCity: \"武汉\",\r\n\t\t\t\t\tendCity: \"深圳\",\r\n\t\t\t\t\torderByField: 'start_time'\r\n\t\t\t\t})\r\n\t\t\t\t.then(resp => {\r\n\t\t\t\t\tif (resp.data.code === 200) {\r\n\t\t\t\t\t\t_this.chinaPlane = resp.data.data.records;\r\n\t\t\t\t\t\tconsole.log(resp.data.data.records);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(failResponse => {})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsendCode() {\r\n\t\t\t\t//发送验证码\r\n\t\t\t\tthis.$axios\r\n\t\t\t\t\t.post('/send', {\r\n\t\t\t\t\t\temail: this.clockForm.email,\r\n\t\t\t\t\t\ttype: 0\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(resp => {\r\n\t\t\t\t\t\tif (resp.data.code === 200) {\r\n\t\t\t\t\t\t\t// if (resp.data.data.return_code == \"00000\") {\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\t\tmessage: '验证码发送成功，请注意接收'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tthis.send.sendType = \"success\";\r\n\t\t\t\t\t\t\t\tthis.send.sendStatus = \"disabled\";\r\n\t\t\t\t\t\t\t\tthis.setInterval();\r\n\t\t\t\t\t\t\t// }else{\r\n\t\t\t\t\t\t\t// \tthis.$message.error(\"验证码发送错误，错误代码:\"+resp.data.data.return_code);\r\n\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t} else if (resp.data.code === 500) {\r\n\t\t\t\t\t\t\tthis.$message.error(resp.data.msg);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$message.error(\"验证码发送错误\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\taddClock(plane) {\r\n\t\t\t\tconsole.log(plane)\r\n\t\t\t\tthis.dialogTableVisible = true;\r\n\t\t\t\tthis.dialogFormVisible = true;\r\n\t\t\t\tthis.clockForm.plane = plane;\r\n\t\t\t},\r\n\t\t\tsubmitForm(formName) {\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tplaneId: this.clockForm.plane,\r\n\t\t\t\t\tphone: this.clockForm.phone,\r\n\t\t\t\t\temail: this.clockForm.email,\r\n\t\t\t\t\tcode: this.clockForm.code\r\n\t\t\t\t}\r\n\t\t\t\tthis.$refs[formName].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\t//提交表单\r\n\t\t\t\t\t\tthis.$axios\r\n\t\t\t\t\t\t\t.post('/clock', JSON.stringify(data))\r\n\t\t\t\t\t\t\t.then(resp => {\r\n\t\t\t\t\t\t\t\tif (resp.data.code === 200) {\r\n\t\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\t\t\tmessage: resp.data.msg\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.$message.error(\"发生错误，请联系管理员\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t//添加成功\r\n\t\t\t\t\t\tthis.closeForm(formName);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcloseForm(formName) {\r\n\t\t\t\tclearInterval(this.interval);\r\n\t\t\t\tthis.dialogFormVisible = false;\r\n\t\t\t\tthis.send.sendType = \"\";\r\n\t\t\t\tthis.send.sendStatus = false;\r\n\t\t\t\tthis.send.sendMessage = \"发送验证码\";\r\n\t\t\t},\r\n\t\t\tsetInterval(){\r\n\t\t\t\tvar time = 60;\r\n\t\t\t\t this.interval = setInterval(() => {\r\n\t\t\t\t\tthis.send.sendMessage = time;\r\n\t\t\t\t\ttime-=1;\r\n\t\t\t\t\tif(time===-1){\r\n\t\t\t\t\t  clearInterval(this.interval);\r\n\t\t\t\t\t  this.send.sendType = \"\";\r\n\t\t\t\t\t  this.send.sendStatus = false;\r\n\t\t\t\t\t  this.send.sendMessage = \"重新发送验证码\";\r\n\t\t\t\t\t}\r\n\t\t\t\t},1000)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped=\"scoped\">\r\n\t.el-col {\r\n\t\tmargin: 5px 0;\r\n\t}\r\n\r\n\t.el-card {\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\timg {\r\n\t\twidth: 150px;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/components/home/comm"}]}