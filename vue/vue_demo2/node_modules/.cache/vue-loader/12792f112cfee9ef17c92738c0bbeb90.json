{"remainingRequest":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\TellHow\\vue\\vue_demo2\\src\\components\\home\\comm\\SearchResult.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\TellHow\\vue\\vue_demo2\\src\\components\\home\\comm\\SearchResult.vue","mtime":1577169898703},{"path":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575534104133},{"path":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\babel-loader\\lib\\index.js","mtime":1575534135931},{"path":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575534104133},{"path":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\vue-loader\\lib\\index.js","mtime":1575534129651}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tname: 'SearchResult',\n\tdata() {\n\t\treturn {\n\t\t\tcount: 0,\n\t\t\tdialogTableVisible: false,\n\t\t\tdialogFormVisible: false,\n\t\t\tsend: {\n\t\t\t\tsendType: '',\n\t\t\t\tsendStatus: false,\n\t\t\t\tsendMessage: '发送验证码',\n\t\t\t},\n\t\t\tclockForm: {\n\t\t\t\temail: '',\n\t\t\t\tcode: '',\n\t\t\t\tplane: ''\n\t\t\t},\n\t\t\trules: {\n\t\t\t\temail: [{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tmessage: '请输入邮箱地址',\n\t\t\t\t\ttrigger: ['blur', 'change']\n\t\t\t\t}, {\n\t\t\t\t\ttype: 'email',\n\t\t\t\t\tmessage: '请输入正确的邮箱地址',\n\t\t\t\t\ttrigger: ['blur', 'change']\n\t\t\t\t}],\n\t\t\t\tcode: [{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tmessage: '请填写验证码'\n\t\t\t\t}]\n\t\t\t},\n\t\t\tformLabelWidth: '120px'\n\t\t};\n\t},\n\tmethods: {\n\t\tload() {\n\t\t\tthis.count += 2\n\t\t},\n\t\tsendCode() {\n\t\t\t//发送验证码\n\t\t\tthis.$axios\n\t\t\t\t.post('/send', {\n\t\t\t\t\temail: this.clockForm.email,\n\t\t\t\t\ttype: 0\n\t\t\t\t})\n\t\t\t\t.then(resp => {\n\t\t\t\t\tif (resp.data.code === 200) {\n\t\t\t\t\t\t// if (resp.data.data.return_code == \"00000\") {\n\t\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\tmessage: '验证码发送成功，请注意接收'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.send.sendType = \"success\";\n\t\t\t\t\t\t\tthis.send.sendStatus = \"disabled\";\n\t\t\t\t\t\t\tthis.setInterval();\n\t\t\t\t\t\t// } else {\n\t\t\t\t\t\t// \tthis.$message.error(\"验证码发送错误，错误代码:\" + resp.data.data.return_code);\n\t\t\t\t\t\t// }\n\t\t\t\t\t} else if (resp.data.code === 500) {\n\t\t\t\t\t\tthis.$message.error(resp.data.msg);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$message.error(\"验证码发送错误\");\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t},\n\t\taddClock(plane) {\n\t\t\tconsole.log(plane)\n\t\t\tthis.dialogTableVisible = true;\n\t\t\tthis.dialogFormVisible = true;\n\t\t\tthis.clockForm.plane = plane;\n\t\t},\n\t\tsubmitForm(formName) {\n\t\t\tvar data = {\n\t\t\t\tid: this.clockForm.plane,\n\t\t\t\tphone: this.clockForm.phone,\n\t\t\t\temail: this.clockForm.email,\n\t\t\t\tcode: this.clockForm.code\n\t\t\t}\n\t\t\tthis.$refs[formName].validate((valid) => {\n\t\t\t\tif (valid) {\n\t\t\t\t\t//提交表单\n\t\t\t\t\tthis.$axios\n\t\t\t\t\t\t.post('/clock', JSON.stringify(data))\n\t\t\t\t\t\t.then(resp => {\n\t\t\t\t\t\t\tif (resp.data.code === 200) {\n\t\t\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\t\tmessage: resp.data.msg\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.$message.error(\"发生错误，请联系管理员\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t//添加成功\n\t\t\t\t\tthis.closeForm(formName);\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tcloseForm(formName) {\n\t\t\tclearInterval(this.interval);\n\t\t\tthis.dialogFormVisible = false;\n\t\t\tthis.send.sendType = \"\";\n\t\t\tthis.send.sendStatus = false;\n\t\t\tthis.send.sendMessage = \"发送验证码\";\n\t\t},\n\t\tsetInterval(){\n\t\t\tvar time = 60;\n\t\t\t this.interval = setInterval(() => {\n\t\t\t\tthis.send.sendMessage = time;\n\t\t\t\ttime-=1;\n\t\t\t\tif(time===-1){\n\t\t\t\t  clearInterval(this.interval);\n\t\t\t\t  this.send.sendType = \"\";\n\t\t\t\t  this.send.sendStatus = false;\n\t\t\t\t  this.send.sendMessage = \"重新发送验证码\";\n\t\t\t\t}\n\t\t\t},1000)\n\t\t}\n\t}\n}\n",{"version":3,"sources":["SearchResult.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SearchResult.vue","sourceRoot":"src/components/home/comm","sourcesContent":["<template>\r\n\t<div id=\"result\">\r\n\t\t<el-row>\r\n\t\t\t<el-col :span=\"24\">\r\n\t\t\t\t<el-card shadow=\"never\">\r\n\t\t\t\t\t飞机航班\r\n\t\t\t\t</el-card>\r\n\t\t\t</el-col>\r\n\t\t</el-row>\r\n\t\t<el-row class=\"infinite-list\" v-infinite-scroll=\"load\" style=\"overflow-y:scroll;height: 600px;\">\r\n\t\t\t<el-col :key='i' :span=\"24\" v-for=\"i in count\" class=\"infinite-list-item\">\r\n\t\t\t\t<el-card shadow=\"never\">\r\n\t\t\t\t\t{{ i }}\r\n\t\t\t\t\t<el-button @click=\"addClock(i)\" size=\"mini\">添加提醒<i class=\"el-icon-alarm-clock\"></i></el-button>\r\n\t\t\t\t</el-card>\r\n\t\t\t</el-col>\r\n\t\t</el-row>\r\n\t\t<el-dialog title=\"添加邮箱提醒\" :visible.sync=\"dialogFormVisible\">\r\n\t\t\t<el-form :model=\"clockForm\" :rules=\"rules\" ref=\"clockForm\">\r\n\t\t\t\t<el-form-item label=\"邮箱\" prop=\"email\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-row :gutter=\"20\">\r\n\t\t\t\t\t\t<el-col :span=\"10\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"clockForm.email\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t<el-col :span=\"10\">\r\n\t\t\t\t\t\t\t<el-button :type=\"send.sendType\" :model=\"send\" :disabled=\"send.sendStatus\" @click=\"sendCode\" :key=\"send.sendMessage\">\r\n\t\t\t\t\t\t\t\t{{ send.sendMessage }}\r\n\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t</el-row>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"验证码\" prop=\"code\" :label-width=\"formLabelWidth\">\r\n\t\t\t\t\t<el-row :gutter=\"20\">\r\n\t\t\t\t\t\t<el-col :span=\"10\">\r\n\t\t\t\t\t\t\t<el-input v-model=\"clockForm.code\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t</el-row>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"closeForm('clockForm')\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"submitForm('clockForm')\">添 加</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'SearchResult',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcount: 0,\r\n\t\t\t\tdialogTableVisible: false,\r\n\t\t\t\tdialogFormVisible: false,\r\n\t\t\t\tsend: {\r\n\t\t\t\t\tsendType: '',\r\n\t\t\t\t\tsendStatus: false,\r\n\t\t\t\t\tsendMessage: '发送验证码',\r\n\t\t\t\t},\r\n\t\t\t\tclockForm: {\r\n\t\t\t\t\temail: '',\r\n\t\t\t\t\tcode: '',\r\n\t\t\t\t\tplane: ''\r\n\t\t\t\t},\r\n\t\t\t\trules: {\r\n\t\t\t\t\temail: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入邮箱地址',\r\n\t\t\t\t\t\ttrigger: ['blur', 'change']\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\ttype: 'email',\r\n\t\t\t\t\t\tmessage: '请输入正确的邮箱地址',\r\n\t\t\t\t\t\ttrigger: ['blur', 'change']\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tcode: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请填写验证码'\r\n\t\t\t\t\t}]\r\n\t\t\t\t},\r\n\t\t\t\tformLabelWidth: '120px'\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tload() {\r\n\t\t\t\tthis.count += 2\r\n\t\t\t},\r\n\t\t\tsendCode() {\r\n\t\t\t\t//发送验证码\r\n\t\t\t\tthis.$axios\r\n\t\t\t\t\t.post('/send', {\r\n\t\t\t\t\t\temail: this.clockForm.email,\r\n\t\t\t\t\t\ttype: 0\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(resp => {\r\n\t\t\t\t\t\tif (resp.data.code === 200) {\r\n\t\t\t\t\t\t\t// if (resp.data.data.return_code == \"00000\") {\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\t\tmessage: '验证码发送成功，请注意接收'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tthis.send.sendType = \"success\";\r\n\t\t\t\t\t\t\t\tthis.send.sendStatus = \"disabled\";\r\n\t\t\t\t\t\t\t\tthis.setInterval();\r\n\t\t\t\t\t\t\t// } else {\r\n\t\t\t\t\t\t\t// \tthis.$message.error(\"验证码发送错误，错误代码:\" + resp.data.data.return_code);\r\n\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t} else if (resp.data.code === 500) {\r\n\t\t\t\t\t\t\tthis.$message.error(resp.data.msg);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$message.error(\"验证码发送错误\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\taddClock(plane) {\r\n\t\t\t\tconsole.log(plane)\r\n\t\t\t\tthis.dialogTableVisible = true;\r\n\t\t\t\tthis.dialogFormVisible = true;\r\n\t\t\t\tthis.clockForm.plane = plane;\r\n\t\t\t},\r\n\t\t\tsubmitForm(formName) {\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\tid: this.clockForm.plane,\r\n\t\t\t\t\tphone: this.clockForm.phone,\r\n\t\t\t\t\temail: this.clockForm.email,\r\n\t\t\t\t\tcode: this.clockForm.code\r\n\t\t\t\t}\r\n\t\t\t\tthis.$refs[formName].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\t//提交表单\r\n\t\t\t\t\t\tthis.$axios\r\n\t\t\t\t\t\t\t.post('/clock', JSON.stringify(data))\r\n\t\t\t\t\t\t\t.then(resp => {\r\n\t\t\t\t\t\t\t\tif (resp.data.code === 200) {\r\n\t\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\t\t\tmessage: resp.data.msg\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.$message.error(\"发生错误，请联系管理员\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t//添加成功\r\n\t\t\t\t\t\tthis.closeForm(formName);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcloseForm(formName) {\r\n\t\t\t\tclearInterval(this.interval);\r\n\t\t\t\tthis.dialogFormVisible = false;\r\n\t\t\t\tthis.send.sendType = \"\";\r\n\t\t\t\tthis.send.sendStatus = false;\r\n\t\t\t\tthis.send.sendMessage = \"发送验证码\";\r\n\t\t\t},\r\n\t\t\tsetInterval(){\r\n\t\t\t\tvar time = 60;\r\n\t\t\t\t this.interval = setInterval(() => {\r\n\t\t\t\t\tthis.send.sendMessage = time;\r\n\t\t\t\t\ttime-=1;\r\n\t\t\t\t\tif(time===-1){\r\n\t\t\t\t\t  clearInterval(this.interval);\r\n\t\t\t\t\t  this.send.sendType = \"\";\r\n\t\t\t\t\t  this.send.sendStatus = false;\r\n\t\t\t\t\t  this.send.sendMessage = \"重新发送验证码\";\r\n\t\t\t\t\t}\r\n\t\t\t\t},1000)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\n"]}]}