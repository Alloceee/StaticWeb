{"remainingRequest":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\babel-loader\\lib\\index.js!E:\\TellHow\\vue\\vue_demo2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\TellHow\\vue\\vue_demo2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\TellHow\\vue\\vue_demo2\\src\\components\\admin\\company\\Show.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\TellHow\\vue\\vue_demo2\\src\\components\\admin\\company\\Show.vue","mtime":1576054063918},{"path":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575534104133},{"path":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\babel-loader\\lib\\index.js","mtime":1575534135931},{"path":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575534104133},{"path":"E:\\TellHow\\vue\\vue_demo2\\node_modules\\vue-loader\\lib\\index.js","mtime":1575534129651}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'CompanyShow',\n  data: function data() {\n    return {\n      allDel: false,\n      del: false,\n      dialogTableVisible: false,\n      dialogFormVisible: false,\n      delData: '',\n      currentPage: 1,\n      pageSize: 7,\n      tableData: [{\n        id: '21',\n        icon: 'http://www.yewenshu.top/FvqzOvcwhaNhm3nE1U2OFD0XD6_o',\n        name: '王小虎',\n        desc: '上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄'\n      }, {\n        id: '2',\n        icon: 'http://www.yewenshu.top/FtT05qhCUynDSBnyYu7Lg_zEJnbL',\n        name: '王小虎',\n        desc: '上海市普陀区金沙江路 1517 弄'\n      }, {\n        id: '3',\n        icon: 'http://www.yewenshu.top/Fi2KHPOlAnQphX2TtafgELGnsIUu',\n        name: '王小虎',\n        desc: '上海市普陀区金沙江路 1519 弄'\n      }, {\n        id: '4',\n        icon: 'http://www.yewenshu.top/Fh7k1QodHX7fGJmX7XGmqPfL1MAN',\n        name: '王小虎',\n        desc: '上海市普陀区金沙江路 1516 弄'\n      }],\n      search: '',\n      imageUrl: '',\n      company: {\n        id: '',\n        name: '',\n        icon: '',\n        desc: ''\n      },\n      formLabelWidth: '120px',\n      rules: {\n        name: [{\n          required: true,\n          message: '请输入公司名称',\n          trigger: 'blur'\n        }, {\n          min: 2,\n          max: 10,\n          message: '长度在 2 到 10 个字符',\n          trigger: 'blur'\n        }],\n        icon: [{\n          required: true,\n          message: '请上传公司标题'\n        }],\n        desc: [{\n          required: true,\n          message: '请填写公司介绍',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    goBack: function goBack() {\n      console.log('go back');\n    },\n    // 编辑\n    handleEdit: function handleEdit(index, row) {\n      this.company.id = row.id;\n      this.company.name = row.name;\n      this.company.desc = row.desc;\n      this.company.icon = row.icon;\n      this.dialogTableVisible = true;\n      this.dialogFormVisible = true;\n    },\n    openDel: function openDel(index, row) {\n      this.del = true;\n      this.delData = row.date;\n    },\n    // 删除\n    handleDelete: function handleDelete() {\n      alert(\"单选删除\");\n      console.log(this.delData);\n      this.delete(this.delDate);\n      this.del = false;\n    },\n    deleteAll: function deleteAll() {\n      alert(\"全选删除\");\n      this.delete(this.multipleSelection);\n      console.log(this.multipleSelection);\n      this.allDel = false;\n    },\n    toggleSelection: function toggleSelection(rows) {\n      var _this = this;\n\n      if (rows) {\n        rows.forEach(function (row) {\n          _this.$refs.multipleTable.toggleRowSelection(row);\n        });\n      } else {\n        this.$refs.multipleTable.clearSelection();\n      }\n    },\n    //获取多选数据\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    // 头像上传\n    handleAvatarSuccess: function handleAvatarSuccess(res, file) {\n      this.imageUrl = URL.createObjectURL(file.raw);\n      this.companyForm.resource = res;\n    },\n    beforeAvatarUpload: function beforeAvatarUpload(file) {\n      var isJPG = file.type === 'image/jpeg' || 'image/png';\n      var isLt5M = file.size / 1024 / 1024 < 5;\n\n      if (!isJPG) {\n        this.$message.error('上传头像图片只能是 JPG 格式!');\n      }\n\n      if (!isLt5M) {\n        this.$message.error('上传头像图片大小不能超过 5MB!');\n      }\n\n      return isJPG && isLt5M;\n    },\n    //分页展示\n    handleSizeChange: function handleSizeChange(val) {\n      this.pageSize = val;\n      alert(\"\\u6BCF\\u9875 \".concat(val, \" \\u6761\"));\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.currentPage = val;\n      alert(\"\\u5F53\\u524D\\u9875: \".concat(val));\n    },\n    delete: function _delete(delDate) {\n      //发送删除请求\n      this.$message({\n        message: '删除成功',\n        type: 'success'\n      });\n      this.$message.error('删除出错');\n    },\n    //提交表单\n    submit: function submit(formName) {\n      var _this2 = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          _this2.$message({\n            message: '修改成功',\n            type: 'success'\n          });\n\n          _this2.dialogTableVisible = false;\n          _this2.dialogFormVisible = false;\n        } else {\n          _this2.$message.error('修改出错');\n\n          return false;\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["Show.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-page-header @back=\"goBack\" content=\"航空公司管理\">\r\n\t\t</el-page-header>\r\n\t\t<el-card shadow=\"never\">\r\n\t\t\t<el-table :data=\"tableData\" style=\"width: 100%\" @selection-change=\"handleSelectionChange\">\r\n\t\t\t\t<el-table-column type=\"selection\" width=\"55\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column type=\"expand\">\r\n\t\t\t\t\t<template slot-scope=\"props\">\r\n\t\t\t\t\t\t<el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n\t\t\t\t\t\t\t<el-form-item label=\"公司名称\">\r\n\t\t\t\t\t\t\t\t<span>{{ props.row.name }}</span>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t\t<el-form-item label=\"公司详情\">\r\n\t\t\t\t\t\t\t\t<span>{{ props.row.desc }}</span>\r\n\t\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t</el-form>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"ID\" width=\"100\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<span style=\"margin-left: 10px\">{{ scope.row.id }}</span>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"公司名称\" width=\"240\" prop=\"name\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"公司图标\" width=\"200\" prop=\"icon\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-avatar shape=\"square\" v-if=\"scope.row.icon\" :size=\"50\" :src=\"scope.row.icon\"></el-avatar>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column align=\"right\">\r\n\t\t\t\t\t<template slot=\"header\" slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-input v-model=\"search\" size=\"mini\" placeholder=\"输入关键字搜索\" />\r\n\t\t\t\t\t\t<el-popover placement=\"top\" width=\"160\" v-model=\"allDel\">\r\n\t\t\t\t\t\t\t<p>确定一次删除所选内容吗？</p>\r\n\t\t\t\t\t\t\t<div style=\"text-align: right; margin: 0\">\r\n\t\t\t\t\t\t\t\t<el-button size=\"mini\" type=\"text\" @click=\"allDel = false\">取消</el-button>\r\n\t\t\t\t\t\t\t\t<el-button type=\"primary\" size=\"mini\" @click=\"deleteAll()\">确定</el-button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<el-button slot=\"reference\">删除</el-button>\r\n\t\t\t\t\t\t</el-popover>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n\t\t\t\t\t\t<el-button type=\"danger\" @click=\"openDel(scope.$index, scope.row)\">删除</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t</el-table>\r\n\t\t</el-card>\r\n\t\t<el-pagination small=\"\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"1000\" @size-change=\"handleSizeChange\"\r\n\t\t @current-change=\"handleCurrentChange\" :current-page=\"currentPage\" :page-sizes=\"[7, 20, 40, 70,100]\" :page-size=\"pageSize\">\r\n\t\t</el-pagination>\r\n\t\t<el-dialog title=\"提示\" :visible.sync=\"del\" width=\"30%\" center>\r\n\t\t\t<span>确定删除？</span>\r\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"del = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"handleDelete()\">确 定</el-button>\r\n\t\t\t</span>\r\n\t\t</el-dialog>\r\n\t\t<el-dialog title=\"修改公司信息\" :visible.sync=\"dialogFormVisible\">\r\n\t\t\t<el-form :model=\"company\" ref=\"company\" :rules=\"rules\">\r\n\t\t\t\t<el-form-item label=\"公司名称\" :label-width=\"formLabelWidth\" prop=\"name\">\r\n\t\t\t\t\t<el-input v-model=\"company.name\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"公司图标\" :label-width=\"formLabelWidth\" prop=\"icon\">\r\n\t\t\t\t\t<el-upload class=\"avatar-uploader\" action=\"https://jsonplaceholder.typicode.com/posts/\" :show-file-list=\"false\"\r\n\t\t\t\t\t :on-success=\"handleAvatarSuccess\" :before-upload=\"beforeAvatarUpload\">\r\n\t\t\t\t\t\t<img v-if=\"company.icon\" :src=\"company.icon\" class=\"avatar\">\r\n\t\t\t\t\t\t<i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n\t\t\t\t\t</el-upload>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"公司介绍\" :label-width=\"formLabelWidth\" prop=\"desc\">\r\n\t\t\t\t\t<el-input type=\"textarea\" :rows=\"7\" v-model=\"company.desc\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"submit('company')\">修 改</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'CompanyShow',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tallDel: false,\r\n\t\t\t\tdel: false,\r\n\t\t\t\tdialogTableVisible: false,\r\n\t\t\t\tdialogFormVisible: false,\r\n\t\t\t\tdelData: '',\r\n\t\t\t\tcurrentPage: 1,\r\n\t\t\t\tpageSize: 7,\r\n\t\t\t\ttableData: [{\r\n\t\t\t\t\tid: '21',\r\n\t\t\t\t\ticon: 'http://www.yewenshu.top/FvqzOvcwhaNhm3nE1U2OFD0XD6_o',\r\n\t\t\t\t\tname: '王小虎',\r\n\t\t\t\t\tdesc: '上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄上海市普陀区金沙江路 1518 弄'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tid: '2',\r\n\t\t\t\t\ticon: 'http://www.yewenshu.top/FtT05qhCUynDSBnyYu7Lg_zEJnbL',\r\n\t\t\t\t\tname: '王小虎',\r\n\t\t\t\t\tdesc: '上海市普陀区金沙江路 1517 弄'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tid: '3',\r\n\t\t\t\t\ticon: 'http://www.yewenshu.top/Fi2KHPOlAnQphX2TtafgELGnsIUu',\r\n\t\t\t\t\tname: '王小虎',\r\n\t\t\t\t\tdesc: '上海市普陀区金沙江路 1519 弄'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tid: '4',\r\n\t\t\t\t\ticon: 'http://www.yewenshu.top/Fh7k1QodHX7fGJmX7XGmqPfL1MAN',\r\n\t\t\t\t\tname: '王小虎',\r\n\t\t\t\t\tdesc: '上海市普陀区金沙江路 1516 弄'\r\n\t\t\t\t}],\r\n\t\t\t\tsearch: '',\r\n\t\t\t\timageUrl: '',\r\n\t\t\t\tcompany: {\r\n\t\t\t\t\tid: '',\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\ticon: '',\r\n\t\t\t\t\tdesc: ''\r\n\t\t\t\t},\r\n\t\t\t\tformLabelWidth: '120px',\r\n\t\t\t\trules: {\r\n\t\t\t\t\tname: [{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: '请输入公司名称',\r\n\t\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmin: 2,\r\n\t\t\t\t\t\t\tmax: 10,\r\n\t\t\t\t\t\t\tmessage: '长度在 2 到 10 个字符',\r\n\t\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ticon: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请上传公司标题'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tdesc: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请填写公司介绍',\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgoBack() {\r\n\t\t\t\tconsole.log('go back');\r\n\t\t\t},\r\n\t\t\t// 编辑\r\n\t\t\thandleEdit(index, row) {\r\n\t\t\t\tthis.company.id = row.id;\r\n\t\t\t\tthis.company.name = row.name;\r\n\t\t\t\tthis.company.desc = row.desc;\r\n\t\t\t\tthis.company.icon = row.icon;\r\n\t\t\t\tthis.dialogTableVisible = true;\r\n\t\t\t\tthis.dialogFormVisible = true;\r\n\t\t\t},\r\n\t\t\topenDel(index, row) {\r\n\t\t\t\tthis.del = true;\r\n\t\t\t\tthis.delData = row.date;\r\n\t\t\t},\r\n\t\t\t// 删除\r\n\t\t\thandleDelete() {\r\n\t\t\t\talert(\"单选删除\");\r\n\t\t\t\tconsole.log(this.delData);\r\n\t\t\t\tthis.delete(this.delDate);\r\n\t\t\t\tthis.del = false;\r\n\t\t\t},\r\n\t\t\tdeleteAll() {\r\n\t\t\t\talert(\"全选删除\");\r\n\t\t\t\tthis.delete(this.multipleSelection);\r\n\t\t\t\tconsole.log(this.multipleSelection);\r\n\t\t\t\tthis.allDel = false;\r\n\t\t\t},\r\n\t\t\ttoggleSelection(rows) {\r\n\t\t\t\tif (rows) {\r\n\t\t\t\t\trows.forEach(row => {\r\n\t\t\t\t\t\tthis.$refs.multipleTable.toggleRowSelection(row);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$refs.multipleTable.clearSelection();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//获取多选数据\r\n\t\t\thandleSelectionChange(val) {\r\n\t\t\t\tthis.multipleSelection = val;\r\n\t\t\t},\r\n\t\t\t// 头像上传\r\n\t\t\thandleAvatarSuccess(res, file) {\r\n\t\t\t\tthis.imageUrl = URL.createObjectURL(file.raw);\r\n\t\t\t\tthis.companyForm.resource = res;\r\n\t\t\t},\r\n\t\t\tbeforeAvatarUpload(file) {\r\n\t\t\t\tconst isJPG = file.type === ('image/jpeg') || ('image/png');\r\n\t\t\t\tconst isLt5M = file.size / 1024 / 1024 < 5;\r\n\r\n\t\t\t\tif (!isJPG) {\r\n\t\t\t\t\tthis.$message.error('上传头像图片只能是 JPG 格式!');\r\n\t\t\t\t}\r\n\t\t\t\tif (!isLt5M) {\r\n\t\t\t\t\tthis.$message.error('上传头像图片大小不能超过 5MB!');\r\n\t\t\t\t}\r\n\t\t\t\treturn isJPG && isLt5M;\r\n\t\t\t},\r\n\t\t\t//分页展示\r\n\t\t\thandleSizeChange(val) {\r\n\t\t\t\tthis.pageSize = val;\r\n\t\t\t\talert(`每页 ${val} 条`);\r\n\t\t\t},\r\n\t\t\thandleCurrentChange(val) {\r\n\t\t\t\tthis.currentPage = val;\r\n\t\t\t\talert(`当前页: ${val}`);\r\n\t\t\t},\r\n\t\t\tdelete(delDate) {\r\n\t\t\t\t//发送删除请求\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: '删除成功',\r\n\t\t\t\t\ttype: 'success'\r\n\t\t\t\t});\r\n\t\t\t\tthis.$message.error('删除出错');\r\n\t\t\t},\r\n\t\t\t//提交表单\r\n\t\t\tsubmit(formName) {\r\n\t\t\t\tthis.$refs[formName].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '修改成功',\r\n\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.dialogTableVisible = false;\r\n\t\t\t\t\t\tthis.dialogFormVisible = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$message.error('修改出错');\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped=\"scoped\">\r\n\t.el-card {\r\n\t\tmargin: 30px;\r\n\t\tmin-height: 600px;\r\n\t}\r\n\r\n\t.el-pagination {\r\n\t\tfloat: right;\r\n\t\tmargin: 15px;\r\n\t}\r\n\r\n\t.avatar-uploader {\r\n\t\tborder: 1px dashed #d9d9d9;\r\n\t\tborder-radius: 6px;\r\n\t\tcursor: pointer;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t\twidth: 178px;\r\n\t\theight: 178px;\r\n\t\tline-height: 178px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.avatar-uploader:hover {\r\n\t\tborder-color: #409EFF;\r\n\t}\r\n\r\n\t.avatar-uploader-icon {\r\n\t\tfont-size: 28px;\r\n\t\tcolor: #8c939d;\r\n\t\twidth: 178px;\r\n\t\theight: 178px;\r\n\t\tline-height: 178px;\r\n\t\ttext-align: center;\r\n\t\tposition: relative;\r\n\t\tmargin-left: -89px;\r\n\t}\r\n\r\n\t.avatar {\r\n\t\twidth: 178px;\r\n\t\theight: 178px;\r\n\t\tdisplay: block;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/components/admin/company"}]}